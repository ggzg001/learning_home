# 产出和突破


## 产出

1. 生信应用docker的参数标准化调整：前期生信和后端的协同开发过程中，生信应用流程针对同一个含义使用的环境变量各种各样，造成了后端开发代码无法做到简洁和统一且增加了双方沟通成本，经双方沟通后决定对同种含义的环境变量做强制性的统一命名。对一期已有应用流程进行改造，对后端代码创建任务那一整块进行代码重构、docker调整测试、生信分析结果的数据后处理调整。
2. WGS/WES二期新增模块的开发：和生信同学对接二期所有WGS/WES新增模块，和前端对接要展示数据的格式，针对每个任务模块进行相应的数据后处理。
3. 任务模块的新增和修改：包括任务的级联删除和该任务结果目录的硬盘数据的清理，任务详情模块的重构以及加入权限之后任务创建的调整，任务结果的下载调整和大任务数据的压缩传输等。

## 突破

1. 更改结果数据的存储方式：针对二期生信新增模块，mongo单个文档16M大小的限制不能满足已有需求。在尽量不修改后端整体架构的基础上采用json文件的格式存储数据. 现有测试集群后端docker的部署内存有限制，且数据后处理的文件达到上百M, 使用内存映射mmap来进行大文件的处理。
2. 生信任务的隔离：不同的生信任务的创建方式和需要的环境变量的参数配置不尽相同，为了代码能做到开发封闭对每个生信应用都采用单独的类来处理。这个类的功能主要包含docker需要的环境变量的注入，docker中的任务执行完毕之后的数据后处理等。


# 意义和沉淀


## 意义

YIDAS测序数据分析平台经历从无到有的过程，从刚开始对生信任务使用docker包装，到后来的生信结果的后处理是耗时任务又将数据借助服务发现上报给后端服务，到目前的任务拆分隔离等。YIDAS平台的开发过程中，不断发现问题，解决问题，截止目前，该版本大体具备样本数据的自动入库，自动进行一级分析，高级分析任务的管理，分析报告的生成，权限和知识全库等模块。


## 沉淀

1. 对生信业务有了一定的了解: 和生信同事的工作对接中, 掌握了基本的专业术语(比如reads数、质控、比对、校正、单端测序和双端测试等), 对高级分析的输出结果能做一定程度的解读。
2. 后端开发: 在平台的开发过程中, 对公司后端框架的使用更加熟练,对源码有一定程度的了解, 把一些设计原则引入到日常的开发中, 满足业务逻辑的同时寻找更合适的方式减少内存的使用。